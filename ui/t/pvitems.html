
<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta charset="UTF-8" />
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.sirensolar.org/xmlrpc.php">
<title>Solar Map &#8211; SIREN: Solar Indiana Renewable Energy Network</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Total WordPress Theme 3.6.0" />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="SIREN: Solar Indiana Renewable Energy Network &raquo; Feed" href="https://www.sirensolar.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="SIREN: Solar Indiana Renewable Energy Network &raquo; Comments Feed" href="https://www.sirensolar.org/comments/feed/" />
<link rel="alternate" type="text/calendar" title="SIREN: Solar Indiana Renewable Energy Network &raquo; iCal Feed" href="https://www.sirensolar.org/events/?ical=1" />
<link rel='stylesheet' id='wpapp-styles-css'  href='https://www.sirensolar.org/wp-content/plugins/wordpress-easy-paypal-payment-or-donation-accept-plugin/wpapp-styles.css?ver=4.9.8' type='text/css' media='all' />
<link rel='stylesheet' id='js_composer_front-css'  href='https://www.sirensolar.org/wp-content/plugins/js_composer/assets/css/js_composer.min.css?ver=4.12.1' type='text/css' media='all' />
<link rel='stylesheet' id='q-a-focus-plus-css'  href='https://www.sirensolar.org/wp-content/plugins/q-and-a-focus-plus-faq/css/q-a-focus-plus.min.css?ver=1.3.9.7' type='text/css' media='screen' />
<link rel='stylesheet' id='toc-screen-css'  href='https://www.sirensolar.org/wp-content/plugins/table-of-contents-plus/screen.min.css?ver=1509' type='text/css' media='all' />
<link rel='stylesheet' id='wpex-style-css'  href='https://www.sirensolar.org/wp-content/themes/Total/style.css?ver=3.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='wpex-google-font-open-sans-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic&#038;subset=latin&#038;ver=4.9.8' type='text/css' media='all' />
<link rel='stylesheet' id='wpex-visual-composer-css'  href='https://www.sirensolar.org/wp-content/themes/Total/assets/css/wpex-visual-composer.css?ver=3.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='wpex-visual-composer-extend-css'  href='https://www.sirensolar.org/wp-content/themes/Total/assets/css/wpex-visual-composer-extend.css?ver=3.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='wpex-tribe-events-css'  href='https://www.sirensolar.org/wp-content/themes/Total/assets/css/wpex-tribe-events.css?ver=4.9.8' type='text/css' media='all' />
<!--[if IE 8]>
<link rel='stylesheet' id='wpex-ie8-css'  href='https://www.sirensolar.org/wp-content/themes/Total/assets/css/wpex-ie8.css?ver=3.6.0' type='text/css' media='all' />
<![endif]-->
<!--[if IE 9]>
<link rel='stylesheet' id='wpex-ie9-css'  href='https://www.sirensolar.org/wp-content/themes/Total/assets/css/wpex-ie9.css?ver=3.6.0' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='wpex-responsive-css'  href='https://www.sirensolar.org/wp-content/themes/Total/assets/css/wpex-responsive.css?ver=3.6.0' type='text/css' media='all' />
<link rel='stylesheet' id='wpex-neat-skin-css'  href='https://www.sirensolar.org/wp-content/themes/Total/skins/classes/neat/css/neat-style.css?ver=1.0' type='text/css' media='all' />
<link rel='https://api.w.org/' href='https://www.sirensolar.org/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.sirensolar.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.sirensolar.org/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="https://www.sirensolar.org/solar-map/" />
<link rel='shortlink' href='https://www.sirensolar.org/?p=1945' />
<link rel="alternate" type="application/json+oembed" href="https://www.sirensolar.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.sirensolar.org%2Fsolar-map%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://www.sirensolar.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.sirensolar.org%2Fsolar-map%2F&#038;format=xml" />
<!-- Q & A Focus Plus -->
		<noscript><link rel="stylesheet" type="text/css" href="https://www.sirensolar.org/wp-content/plugins/q-and-a-focus-plus-faq/css/q-a-focus-plus-noscript.min.css?ver=1.3.9.7" /></noscript><!-- Q & A Focus Plus-->
		<meta name="tec-api-version" content="v1"><meta name="tec-api-origin" content="https://www.sirensolar.org"><link rel="https://theeventscalendar.com/" href="https://www.sirensolar.org/wp-json/tribe/events/v1/" />
<link rel="shortcut icon" href="https://www.sirensolar.org/wp-content/uploads/2015/08/SIREN-Logo-Small-150x1502.ico">
<link rel="apple-touch-icon-precomposed" href="https://www.sirensolar.org/wp-content/uploads/2015/08/SIREN-Logo-Small-150x1502.ico">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.sirensolar.org/wp-content/uploads/2015/08/SIREN-Logo-Small-150x1502.ico">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.sirensolar.org/wp-content/uploads/2015/08/SIREN-Logo-Small-150x1502.ico">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.sirensolar.org/wp-content/uploads/2015/08/SIREN-Logo-Small-150x1502.ico"><meta name="generator" content="Powered by Visual Composer - drag and drop page builder for WordPress."/>
<!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="https://www.sirensolar.org/wp-content/plugins/js_composer/assets/css/vc_lte_ie9.min.css" media="screen"><![endif]--><!--[if IE  8]><link rel="stylesheet" type="text/css" href="https://www.sirensolar.org/wp-content/plugins/js_composer/assets/css/vc-ie8.min.css" media="screen"><![endif]--><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51183645-1', 'auto');
  ga('send', 'pageview');

</script><noscript><style type="text/css"> .wpb_animate_when_almost_visible { opacity: 1; }</style></noscript><style type="text/css" data-type="wpex-css">/*ACCENT COLOR*/.wpex-carousel-woocommerce .wpex-carousel-entry-details,#site-navigation .dropdown-menu >li.sfHover >a,#site-navigation .dropdown-menu >li >a:hover,#site-navigation .dropdown-menu a:hover,#site-navigation .dropdown-menu >.current-menu-parent >a,#site-navigation .dropdown-menu >.current-menu-item >a,a,.wpex-accent-color,#site-navigation .dropdown-menu a:hover,#site-navigation .dropdown-menu >.current-menu-item >a,#site-navigation .dropdown-menu >.current-menu-parent >a,h1 a:hover,h2 a:hover,a:hover h2,h3 a:hover,h4 a:hover,h5 a:hover,h6 a:hover,.entry-title a:hover,.modern-menu-widget a:hover,.theme-button.outline,.theme-button.clean{color:#1f7f2b}.vcex-skillbar-bar,.vcex-icon-box.style-five.link-wrap:hover,.vcex-icon-box.style-four.link-wrap:hover,.vcex-recent-news-date span.month,.vcex-pricing.featured .vcex-pricing-header,.vcex-testimonials-fullslider .sp-button:hover,.vcex-testimonials-fullslider .sp-selected-button,.vcex-social-links a:hover,.vcex-testimonials-fullslider.light-skin .sp-button:hover,.vcex-testimonials-fullslider.light-skin .sp-selected-button,.vcex-divider-dots span,#top-bar-wrap,.vcex-filter-links a:hover,.vcex-filter-links li.active a,.vcex-navbar.style-buttons a:hover,.vcex-navbar.style-buttons a.active,.page-numbers a:hover,.page-numbers.current,.page-numbers.current:hover,.woocommerce nav.woocommerce-pagination ul li a:focus,.woocommerce nav.woocommerce-pagination ul li a:hover,.woocommerce nav.woocommerce-pagination ul li span.current,.wpex-accent-bg,.background-highlight,input[type="submit"],.theme-button,button,.theme-button.outline:hover,.active .theme-button,.theme-button.active,#main .tagcloud a:hover,.post-tags a:hover,.wpex-carousel .owl-dot.active,.navbar-style-one .menu-button >a >span.link-inner,.wpex-carousel .owl-prev,.wpex-carousel .owl-next,body #header-two-search #header-two-search-submit,.theme-button:hover,.modern-menu-widget li.current-menu-item a,#wp-calendar caption,#site-scroll-top:hover,input[type="submit"]:hover,button:hover,.wpex-carousel .owl-prev:hover,.wpex-carousel .owl-next:hover,#site-navigation .menu-button >a >span.link-inner,#site-navigation .menu-button >a >span.link-inner:hover,.navbar-style-six .dropdown-menu >.current-menu-item >a,.navbar-style-six .dropdown-menu >.current-menu-parent >a,#tribe-events .tribe-events-button,#tribe-events .tribe-events-button:hover,#tribe_events_filters_wrapper input[type=submit],.tribe-events-button,.tribe-events-button.tribe-active:hover,.tribe-events-button.tribe-inactive,.tribe-events-button:hover,.tribe-events-calendar td.tribe-events-present div[id*=tribe-events-daynum-],.tribe-events-calendar td.tribe-events-present div[id*=tribe-events-daynum-]>a,#my-events .button,#my-events .button:hover,#add-new .button,#add-new .button:hover,.table-menu-btn,.table-menu-btn:hover{background-color:#1f7f2b}.vcex-heading-bottom-border-w-color .vcex-heading-inner{border-bottom-color:#1f7f2b}.wpb_tabs.tab-style-alternative-two .wpb_tabs_nav li.ui-tabs-active a{border-bottom-color:#1f7f2b}.theme-button.outline{border-color:#1f7f2b}#searchform-dropdown{border-color:#1f7f2b}.toggle-bar-btn:hover{border-top-color:#1f7f2b;border-right-color:#1f7f2b}body #site-navigation-wrap.nav-dropdown-top-border .dropdown-menu >li >ul{border-top-color:#1f7f2b}.theme-heading.border-w-color span.text{border-bottom-color:#1f7f2b}/*TYPOGRAPHY*/body{font-family:"Open Sans"}/*CUSTOMIZER STYLING*/@media only screen and (min-width:960px){#site-logo img{max-width:800}}@media only screen and (min-width:768px) and (max-width:959px){#site-logo img{max-width:720}}@media only screen and (max-width:767px){#site-logo img{max-width:360}}a,h1 a:hover,h2 a:hover,h3 a:hover,h4 a:hover,h5 a:hover,h6 a:hover,.entry-title a:hover{color:#e27f34}#site-logo img{}#site-navigation .dropdown-menu >.current-menu-item >a,#site-navigation .dropdown-menu >.current-menu-parent >a,#site-navigation .dropdown-menu >.current-menu-item >a:hover,#site-navigation .dropdown-menu >.current-menu-parent >a:hover{color:#51a834!important;background-color:#f4f4f4}#site-header #site-navigation .dropdown-menu ul >li >a:hover{color:#51a834}#site-header #site-navigation .dropdown-menu ul >.current-menu-item >a{color:#51a834}#footer-callout .theme-button{background:#67a557}#footer a:hover{color:#81d742}#footer-bottom a:hover{color:#81d742}.wpex-vc-column-wrapper{margin-bottom:40px}</style></head>


	<div id="site-header-inner" class="container clr">

		
<div id="site-logo" class="site-branding clr header-four-logo">
	<div id="site-logo-inner" class="clr">
									<a href="https://www.sirensolar.org/" title="SIREN: Solar Indiana Renewable Energy Network" rel="home" class="main-logo"><img src="//www.sirensolar.org/wp-content/uploads/2016/02/SIREN_YARDSIGN_LOGO_2015_Horizontal_800.jpg" alt="SIREN: Solar Indiana Renewable Energy Network" class="logo-img" data-no-retina /></a>
											</div><!-- #site-logo-inner -->
</div><!-- #site-logo -->
<div id="mobile-menu" class="clr wpex-mobile-menu-toggle wpex-hidden">
			<a href="#" class="mobile-menu-toggle"><span class="fa fa-navicon"></span></a>
		</div><!-- #mobile-menu -->
	</div><!-- #site-header-inner -->

	
</header><!-- #header -->


		
		<main id="main" class="site-main clr" >

			
	<div id="content-wrap" class="container clr">

		
		<div id="primary" class="content-area clr">

			
			<div id="content" class="site-content clr">

				
				
<article class="single-page-article wpex-clr">
<div class="entry clr"><p><br />Click on the interactive map and markers below to view data about ~1100 solar energy systems &#8212; ~47,000 KiloWatts of solar panels &#8212; in the state of Indiana. You can filter the map content by system/owner type, installer, utility company, county, and installation year. <a href="/solar-map/data" target="_new_tabular">Click here if you want to view a tabular listing of this data</a>.<br /></p>



<!-- Below this spot, it's all Javascript and HTML -->
<!-- Get data file stored on WordPress server, with data in JSON format, retrieved from our spreadsheets -->
<script src="/solarmap_data.js"></script>

  <style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  #map {
    height: 100%;
  }
  #control_area {
    position: relative;
    height: 20%;
  }
  #map_area {
    position: relative;
    height: 80%;
  }
  #layer_control {
    position: absolute;
    top: 10px;
    z-index: 10;
    background-color: white;
    margin: 10px;
    padding: 10px;
  }
  .map-query h3 {
    margin-top: 0px;
    padding-bottom: 10px;
    border-bottom: 1px solid #ddd;
  }
  </style>
  <div id="map_area"> <div id="map" style="width: 100%; height: 640px;"></div> </div>
       <div background-color: #fff;"><br /> </div>
       <div class="map-query" style="padding: 10px; background-color: #eee;">
            <table style="width: 100%;">
            <tr>
                <td style="width: 60%">
                    <h3>Center map around: </h3>&nbsp; &nbsp;
                    <input type="radio" name='radio_mapcenter' onclick="updatemapcenter(bloomington)" value="bloomington"> Bloomington </input> &nbsp; &nbsp;
                    <input type="radio" name='radio_mapcenter' onclick="updatemapcenter(evansville)" value="evansville"> Evansville </input> 
&nbsp; &nbsp;
                    <input type="radio" name='radio_mapcenter' onclick="updatemapcenter(indianapolis)" value="indianapolis"> Indianapolis </input>  &nbsp; &nbsp;
                    <input type="radio" name='radio_mapcenter' onclick="updatemapcenter(southbend)" value="southbend"> South Bend </input>
&nbsp; &nbsp;
                 </td>
                <td style="width: 40%">
                    <h3>Filter by county: </h3>&nbsp; &nbsp;
                    <input type="text" name="tb_county" style="width: 90%;" onkeyup="updatemap()" value=""></input><br/>
                 </td>
            </tr>
            </table>
            <table style="width: 100%;">
            <tr><td><br/></td></tr>
            <tr>
                <td style="width: 20%">
                    <h3>System Type</h3>
                    <input type="checkbox" name='cb_systype' checked="checked" onclick="updatemap()" value="PV"><img src="http://labs.google.com/ridefinder/images/mm_20_blue.png"> PV</input><br>
                    <input type="checkbox" name='cb_systype' checked="checked" onclick="updatemap()" value="Thermal_Water"><img src="http://labs.google.com/ridefinder/images/mm_20_red.png"> Water Heater</input><br>
                    <input type="checkbox" name='cb_systype' checked="checked" onclick="updatemap()" value="Thermal_Air"><img src="http://labs.google.com/ridefinder/images/mm_20_yellow.png"> Air Heater</input><br>
                    <input type="checkbox" name='cb_systype' checked="checked" onclick="updatemap()" value="PV_Fan"><img src="http://labs.google.com/ridefinder/images/mm_20_green.png"> PV Attic Fan</input><br>
                </td>
                <td style="width: 20%">
                    <h3>Owner</h3>
                    <input type="checkbox" name='cb_ownertype' checked="checked" onclick="updatemap()" value="Residential"> Residential </input>&nbsp;<br>
                    <input type="checkbox" name='cb_ownertype' checked="checked" onclick="updatemap()" value="Commercial"> Commercial </input>&nbsp;<br>
                    <input type="checkbox" name='cb_ownertype' checked="checked" onclick="updatemap()" value="Institutional"> Institutional </input>&nbsp;<br>
                    <input type="checkbox" name='cb_ownertype' checked="checked" onclick="updatemap()" value="Local_Gov"> Local Government </input>&nbsp;<br>
                </td>
                <td style="width: 30%; padding: 6px">
                    <h3>Installer</h3>
                    <input type="text" name="tb_installer" style="width: 90%;" onkeyup="updatemap()" value=""></input><br/>
                    Type a contractor&#8217;s business name or part of it to filter the map by contractor. <a href="/contractors" target="_new">Click here for list of all contractors</a>
                </td>
                <td style="width: 30%; padding: 6px">
                    <h3>Utility</h3>
                    <input type="text" name="tb_utility" style="width: 90%;" onkeyup="updatemap()" value=""></input><br/>
                    Type a utility company&#8217;s name or part of it to filter the map by utility.
                </td>
            </tr>
            </table>
            <table style="width: 100%;">
            <tr><td><h3> </h3></td></tr>
            <tr>
                <td style="width: 100%">
                    <strong>Installed Year: </strong> &nbsp; &nbsp;
                    <input type="checkbox" name="cb_year" checked="checked" onclick="updatemap()" value="2008"> 2008 </input> &nbsp; &nbsp;
                    <input type="checkbox" name="cb_year" checked="checked" onclick="updatemap()" value="2009"> 2009 </input> 
&nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2010"> 2010 </input>  &nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2011"> 2011 </input>
&nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2012"> 2012 </input> &nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2013"> 2013 </input>
&nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2014"> 2014 </input> &nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2015"> 2015 </input> &nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2016"> 2016 </input> &nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2017"> 2017 </input> &nbsp; &nbsp;
                    <input type="checkbox" name='cb_year' checked="checked" onclick="updatemap()" value="2018"> 2018 </input> &nbsp; &nbsp;
                 </td>
            </tr>
            </table>
            <table style="width: 100%;">
            <tr><td><h3> </h3></td></tr>
            </table>
            <table style="width: 100%;">
            <tr><td><strong>Know a system that is not on the map above?</strong></td></tr>
            <tr><td>
             <ul><li><a href="/solar-map/add-pv/" target="_new">Add a new PV system</a>!</li>
                 <li>To add a new solar water heater, air heater, or solar attic fan, <a href="/contact" target="_new2">please send the relevant information to SIREN</a>. (<em>Online form coming soon</em>.)</li>
                 <li><a href="/solar-map/data" target="_new_tabular">Click here if you want to view a tabular listing of this data</a>.</li>
            </ul>
            </td></tr>
            </table>
        </div>
  <script>

  var map;
  var bloomington   = {lat: 39.1622, lng: -86.5252};
  var evansville    = {lat: 37.9913, lng: -87.5386};
  var indianapolis  = {lat: 39.7839, lng: -86.1575};
  var southbend     = {lat: 41.6760, lng: -86.2512};

  function initMap() {
    var pv_icon = '/mm_20_blue.png';
    var wh_icon = '/mm_20_red.png';
    var ah_icon = '/mm_20_yellow.png';
    var pv_af_icon = '/mm_20_green.png';
    var infowindow = null;

    /* Reference URLs: https://developers.google.com/maps/documentation/javascript/controls */
    map = new google.maps.Map(document.getElementById('map'), {
      center: bloomington,
      zoom: 12,
      //    disableDefaultUI: true,
      zoomControl: true,
      scaleControl: true,
      mapTypeControl: true,
      mapTypeControlOptions: {
        style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
        position: google.maps.ControlPosition.TOP_RIGHT,
        mapTypeIds: [
          google.maps.MapTypeId.ROADMAP,
          google.maps.MapTypeId.SATELLITE, 
          google.maps.MapTypeId.HYBRID,
          google.maps.MapTypeId.TERRAIN
        ]
      }
    });

   pv_items.forEach(function(pv_item) {
      pv_item.marker = new google.maps.Marker({
        position: {
          lat: parseFloat(pv_item.lat),
          lng: parseFloat(pv_item.lon)
        },
        content: pv_item.utility, 
        map: map,
        icon: pv_icon
        });  // Use map : null to not show by default, in conjunction with checked="unchecked" or not specifying attribute above 
        pv_item.marker.addListener('click', function() {
          if (infowindow) {
            infowindow.close();
          }
          var contentString = '<div id="content">'+
          '<div id="siteNotice">'+ '</div>'+
          '<h2 id="firstHeading" class="firstHeading">PV System at ' + pv_item.address; 
          contentString += '</h2>' + '<div id="bodyContent">';
          contentString += (pv_item.capacity_watt != '')?'System Size: ' + pv_item.capacity_watt + ' Watt DC ':'';
          contentString += (pv_item.connection != '')?' (' + pv_item.connection + ')<br />':'<br />';
          contentString += (pv_item.utility != '')?'Utility: ' + pv_item.utility + '<br />':'';
          contentString += (pv_item.installer != '')?'Installer: ' + pv_item.installer + '<br />':'';
          contentString += (pv_item.county != '')?'County: ' + pv_item.county + '<br />':'';
          contentString += (pv_item.year != '')?'Installed in: ' + pv_item.year + '<br />':'';
          contentString += (pv_item.comment != '')?'Additional Comments:' + pv_item.comment + '<br />':'';
          contentString += '</div>'+'</div>';

          infowindow = new google.maps.InfoWindow({
            content: contentString,
            maxWidth: 300
          });
          infowindow.open(map, pv_item.marker); 
        });
    });

   wh_items.forEach(function(wh_item) {
      wh_item.marker = new google.maps.Marker({
         position: {
           lat: parseFloat(wh_item.lat),
           lng: parseFloat(wh_item.lon)
         },
         /* title: wh_item.utility, */
         map: map,
         icon: wh_icon
       });

      wh_item.marker.addListener('click', function() {
        if (infowindow) {
           infowindow.close();
        }
        var contentString = '<div id="content">'+
        '<div id="siteNotice">'+ '</div>'+
        '<h2 id="firstHeading" class="firstHeading">Solar Water Heater at ' + wh_item.address; 
        contentString += '</h2>' + '<div id="bodyContent">';
        contentString += (wh_item.capacity_watt != '')?'System Size: ' + wh_item.capacity_watt + ' Watt DC':'';
        contentString += (wh_item.capacity_btu != '')?' (' + wh_item.capacity_btu + ' BTU)<br />':'';
        contentString += (wh_item.installer != '')?'Installer: ' + wh_item.installer + '<br />':'';
        contentString += (pv_item.county != '')?'County: ' + pv_item.county + '<br />':'';
        contentString += (wh_item.year != '')?'Installed in: ' + wh_item.year + '<br />':'';
        contentString += (wh_item.comment != '')?'Additional Comments:' + wh_item.comment + '<br />':'';
        contentString += '</div>'+'</div>';
        infowindow = new google.maps.InfoWindow({
          content: contentString,
          maxWidth: 300
        });
        infowindow.open(map, wh_item.marker); 
      });
    });

    ah_items.forEach(function(ah_item) {
      ah_item.marker = new google.maps.Marker({
         position: {
           lat: parseFloat(ah_item.lat),
           lng: parseFloat(ah_item.lon)
         },
         /* title: pv_item.utility, */
         map: map,
         icon: ah_icon
       });

       ah_item.marker.addListener('click', function() {
         if (infowindow) {
            infowindow.close();
         }
         var contentString = '<div id="content">'+
         '<div id="siteNotice">'+ '</div>'+
         '<h2 id="firstHeading" class="firstHeading">Solar Air Heater at ' + ah_item.address; 
         contentString += '</h2>' + '<div id="bodyContent">';
         contentString += (ah_item.capacity_watt != '')?'System Size: ' + ah_item.capacity_watt + ' Watt DC<br />':'<br />';
         contentString += (ah_item.installer != '')?'Installer: ' + ah_item.installer + '<br />':'';
         contentString += (pv_item.county != '')?'County: ' + pv_item.county + '<br />':'';
         contentString += (ah_item.year != '')?'Installed in: ' + ah_item.year + '<br />':'';
         contentString += (ah_item.comment != '')?'Additional Comments:' + ah_item.comment + '<br />':'';
         contentString += '</div>'+'</div>';
         infowindow = new google.maps.InfoWindow({
           content: contentString,
           maxWidth: 300
         });
         infowindow.open(map, ah_item.marker); 
      });
    });

   pv_af_items.forEach(function(pv_af_item) {
      pv_af_item.marker = new google.maps.Marker({
        position: {
          lat: parseFloat(pv_af_item.lat),
          lng: parseFloat(pv_af_item.lon)
        },
        title: pv_af_item.utility, 
        map: map,
        icon: pv_af_icon
        });  // Use map : null to not show by default, in conjunction with checked="unchecked" or not specifying attribute above 
       pv_af_item.marker.addListener('click', function() {
         if (infowindow) {
            infowindow.close();
         }
         var contentString = '<div id="content">'+
         '<div id="siteNotice">'+ '</div>'+
         '<h2 id="firstHeading" class="firstHeading">Solar PV Attic Fan at ' + pv_af_item.address; 
         contentString += '</h2>' + '<div id="bodyContent">';
         contentString += (pv_af_item.capacity_watt != '')?'System Size: ' + pv_af_item.capacity_watt + ' Watt DC<br />':'<br />';
         contentString += (pv_af_item.installer != '')?'Installer: ' + pv_af_item.installer + '<br />':'';
         contentString += (pv_item.county != '')?'County: ' + pv_item.county + '<br />':'';
         contentString += (pv_af_item.year != '')?'Installed in: ' + pv_af_item.year + '<br />':'';
         contentString += (pv_af_item.comment != '')?'Additional Comments:' + pv_af_item.comment + '<br />':'';
         contentString += '</div>'+'</div>';
         infowindow = new google.maps.InfoWindow({
           content: contentString,
           maxWidth: 300
        });
        infowindow.open(map, pv_af_item.marker); 
      });
    });

  } //end of initmap

  /* Consider the following some other time: 
   (1) Geo location 
   (2) DONE! Centering around Bloomington, Indy, Evansville, etc. https://developers.google.com/maps/documentation/javascript/examples/control-custom 
   (3) Heatmaps: https://developers.google.com/maps/documentation/javascript/examples/layer-heatmap 
  */
    function updatemapcenter(location) {
        jQuery("input[name='radio_mapcenter']:checked").each(function() {
           map.panTo(new google.maps.LatLng(location));
        });
    }
    function updatemap() {
        //gather query
        var years = [];
        jQuery("input[name='cb_year']:checked").each(function() {
            years.push(this.value);
        });
        var owners = [];
        jQuery("input[name='cb_ownertype']:checked").each(function() {
            owners.push(this.value);
        });
        var systypes = [];
        jQuery("input[name='cb_systype']:checked").each(function() {
            systypes.push(this.value);
        });
        pv_items.forEach(function(item) { item.type = "PV"; });
        ah_items.forEach(function(item) { item.type = "Thermal_Air"; });
        wh_items.forEach(function(item) { item.type = "Thermal_Water"; });
        pv_af_items.forEach(function(item) { item.type = "PV_Fan"; });

        var county = jQuery("input[name='tb_county']").val().toLowerCase();
        var installer = jQuery("input[name='tb_installer']").val().toLowerCase();
        var utility = jQuery("input[name='tb_utility']").val().toLowerCase();

        //now apply the query
        [pv_items, pv_af_items, ah_items, wh_items].forEach(function(items) {
            items.forEach(function(item) {
                var pmap = item.marker.getMap();
                var nmap = map;
                if(!~years.indexOf(item.year)) nmap = null;
                if(!~owners.indexOf(item.ownertype)) nmap = null;
                if(!~systypes.indexOf(item.type)) nmap = null;
                if(!~item.county.toLowerCase().indexOf(county)) nmap = null;
                if(!~item.installer.toLowerCase().indexOf(installer)) nmap = null;
                if ((utility != "") && ((item.utility == null) || (!~item.utility.toLowerCase().indexOf(utility)))) nmap = null; 
                if(pmap != nmap) item.marker.setMap(nmap);
                 
            });
        });
    }
  </script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7MqnmP_XdeCH9-qyYb10OtLg6Laag98o&libraries=visualization,geometry&callback=initMap">
</script>
<script type="text/javascript" src="./public/solarmap_data.js"></script>

